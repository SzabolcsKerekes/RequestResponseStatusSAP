<c:FragmentDefinition xmlns:filterbar="sap.ui.comp.filterbar"
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:commons="sap.suite.ui.commons"
>

    <filterbar:FilterBar id="fbMainPageTable"
        showClearOnFB="true"
        clear="onPressClearSearchMainPageTable"
        search="onPressSearchMainPageTable">
        <filterbar:filterGroupItems>
            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="PWNummer"
                label="{i18n>text.pwnummer}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Status"
                label="{i18n>text.status}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <ComboBox 
                        items="{path: 'statusModel>/StatusList'}">
                        <c:Item
                            key="{statusModel>key}"
                            text="{statusModel>text}"
                        />
                    </ComboBox>
                    <!-- <Input submit=""></Input> -->
                </filterbar:control>
            </filterbar:FilterGroupItem>
            
            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Planungsnummer"
                label="{i18n>text.planungsnummer}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Verwendungszweck"
                label="{i18n>text.verwendungszweck}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Projektnummer"
                label="{i18n>text.projektnummer}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Ersteller"
                label="{i18n>text.ersteller}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Verwender"
                label="{i18n>text.verwender}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <Input submit=""></Input>
                </filterbar:control>
            </filterbar:FilterGroupItem>

            <filterbar:FilterGroupItem groupName="VerwenderSearchBar"
                name="Erstelldatum"
                label="{i18n>text.erstelldatum}"
                visibleInFilterBar="true">
                <filterbar:control>
                    <DatePicker />
                    <!-- <Input submit=""></Input> -->
                </filterbar:control>
            </filterbar:FilterGroupItem>

        </filterbar:filterGroupItems>
    </filterbar:FilterBar>

    <Toolbar class="sapUiTinyMargin">
        <!-- <Button
            icon="sap-icon://add"
            type="Ghost"
            press="onPressAddNewSachnummerToTableStep11"
        /> -->
        <ToolbarSpacer />
        <Select change="onSelectChangeItemCardinalityMainPageTable">
            <c:Item key="20" text="20" />
            <c:Item key="50" text="50" />
            <c:Item key="100" text="100" />
        </Select>
        <Button
            icon="sap-icon://action-settings"
            type="Transparent"
            press="onPressOptionsMainPageTable"
            tooltip="Options"
        />
    </Toolbar>

    <ScrollContainer id="scMainPageTable"
        vertical="true"
        focusable="true">
        <Table items="{applicationModel>/MainPageTableDataList}"
            mode="SingleSelectMaster"
            itemPress="onPressSelectMainPageTableNavToPwDetails">
            <columns>
                <Column >
                    <Label text="{i18n>text.pwnummer}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.status}" />
                </Column>
                <Column >
                    <Label text="{i18n>text.planungsnummer}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.verwendungszweck}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.projektnummer}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.ersteller}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.verwender}"/>
                </Column>
                <Column >
                    <Label text="{i18n>text.erstelldatum}"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem id="cliMainPageTable"
                    type="Active">
                    <cells >
                        <Text text="{applicationModel>PW_NR}"></Text>
                        <!-- <Text text="{applicationModel>STAT}"></Text> -->
                        <commons:MicroProcessFlow id="statusContainerMaster">
                            <commons:content>
                                <commons:MicroProcessFlowItem icon="sap-icon://edit"
                                    state="{parts:[{path: 'applicationModel>STAT'},{path: 'applicationModel>GAEKO_Status'}], formatter: '.formatter.formatStateBullet1'}"
                                    title="In Arbeit">
                                </commons:MicroProcessFlowItem>
                                <commons:MicroProcessFlowItem icon="sap-icon://inspection"
                                    state="{parts:[{path: 'applicationModel>STAT'},{path: 'applicationModel>GAEKO_Status'}], formatter: '.formatter.formatStateBullet2'}"
                                    title="Zur Genehmigung">
                                </commons:MicroProcessFlowItem>
                                <commons:MicroProcessFlowItem icon="sap-icon://lead"
                                    visible="{applicationModel>/isGaekoAvailable}"
                                    state="{parts:[{path: 'applicationModel>STAT'},{path: 'applicationModel>GAEKO_Status'}], formatter: '.formatter.formatStateBullet3'}"
                                    title="Bezahlt">
                                </commons:MicroProcessFlowItem>
                                <commons:MicroProcessFlowItem icon="sap-icon://accept"
                                    state="{parts:[{path: 'applicationModel>STAT'},{path: 'applicationModel>GAEKO_Status'}], formatter: '.formatter.formatStateBullet4'}"
                                    title="Genehmigt">
                                </commons:MicroProcessFlowItem>
                            </commons:content>
                        </commons:MicroProcessFlow>
                        <Text text="{applicationModel>BT_NR}"></Text>
                        <Text text="{applicationModel>VRWNG_AUSL}"></Text>
                        <Text text="{applicationModel>Derivate_ConstructionSet_Project}"></Text>
                        <Text text="{applicationModel>Creator}"></Text>
                        <Text text="{applicationModel>User_LastName} {applicationModel>User_FirstName}"></Text>
                        <Text text="{path: 'applicationModel>CREATED_ON', formatter: '.formatter.formatDate'}"/>
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </ScrollContainer>
</c:FragmentDefinition>